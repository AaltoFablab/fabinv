<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Inventory</title>
    <style>
      body {
        background-image: url('images/debug.jpg');

        background-position: center;
        background-size: cover;
        margin: 0;
        padding: 0;
        background: #8168ff;    /* interchangeable color - background */
      }
      .header {
        position: absolute;
        top: 10%;
        left: 90px;
        width: 330px;
        height: 60px;
        background-color: white;
      }
      #header-text {
        position: relative;
        top: -15%;
        left: 27%;
        font-family: helvetica;
        color: #8168ff;
      }
      .search-box {
        position: absolute;
        top: 70px;
        width: 330px;
        background-color: white;  /* interchangeable color - search box */
        height: 50px;
        border-radius: 0px;
        padding: 0px;
      }
      .search-text {
        font-weight: bold;
        border: none;
        outline: none;
        background: none;
        padding: 0;
        color: black;             /* interchangeable color - text */
        font-size: 20px;
        position: relative;
        top: 14px;
        left: 20px
      }
      .items {
        position: absolute;
        top: 35%;
        left: 90px;
        width: 600px;
        height: 500px;
        background-color: white;
      }
      #names {
        position: absolute;
        width: 100%;
        height: 100%;

        background-color: none; /* debugging */
      }
      #items-table {
        position: absolute;
        font-weight: bold;
        font-family: helvetica;
        font-size: 13px;
        color: #969696;
        padding: 10px;

        width: 100%;
        height: 100%;

        background-color: none;

        border-collapse: separate;
        border-spacing: 0px;
      }
      #details {
        position: absolute;
        top: 35%;
        left: 700px;

        height: 500px;
        width: 600px;

        background-color: white;
      }
      td {
        border: 1px solid #b5b5b5;
        padding-left: 5px;

        background-color: white;
      }
    </style>
  </head>

  <body>
    <div type="text" class="header">
      <h1 id="header-text">
        Inventory
      </h1>
      <div type="text" class="search-box">
        <input type="text" name="" class="search-text" placeholder="search for items..."/>
        <a class="search-button">
      </div>
    </div>

    <div id="details">

    </div>

    <div class="items">

      <div id="names">

        <table id="items-table">
          <tr>
            <td>Name</td>
            <td>Price (â‚¬)</td>
            <td>Location</td>
          </tr>
        </table>

      </div>

    </div>

    <!--- Change pathing --->                             <!--- ! --->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
      $(document).ready(function() {

        $.ajax({

          type: 'POST',
          url:"/graphql",
          contentType: "application/graphql",
          data: "{items{name,price,location{name}}}",

          success: function(result) {

            console.log(result);
            let items = result.data.items;
            for(var i = 0; i < items.length; i++) {

              console.log(items[i]);

              $("#items-table").append("<tr><td>"+items[i].name+"</td><td>"+items[i].price+"</td><td>"+items[i].location.name+"</td></tr>");

            }

          }

        });

      });
    </script>
  </body>
</html>
